[[extend 'layout.html']]

<style>
  [v-cloak] {
    display: none;
  }
</style>

<div class="section" id="app" v-cloak>
  <!-- Vue.js template -->
  <div class="container">
    <h1 class="title">My Stats</h1>
    <div class="field">
      <div class="control">
        <input class="input" type="text" placeholder="Search for a species" v-model="searchQuery">
      </div>
    </div>
    <div class="list is-hoverable">
      <a v-for="species in filteredSpecies" :key="species.bird_name" @click="fetchSightings(species.bird_name)"
        class="list-item">
        {{ species.bird_name }}
      </a>
    </div>
    <div v-if="selectedSpecies" class="box">
      <h2 class="subtitle">Sightings for {{ selectedSpecies }}</h2>
      <div id="time-visualization"></div>
      <div id="map" style="height: 400px;"></div>
    </div>
  </div>
</div>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="https://unpkg.com/vue@3.2.22/dist/vue.global.js"></script>
<script src="js/statistics.js"></script>
[[end]]